
<div class="container mx-auto mt-5 mb-5">
    <div class="w-50 mx-auto">
        <div class="card">
            <div class="card-header">
                <h2 class="text-primary">New User Registration</h2>
            </div>
            <div class="card-body">
                <small class="text-success" *ngIf="successMsg">{{successMsg}}</small>
                <form [formGroup]="registrationForm" #register="ngForm" (ngSubmit)="registrationForm.valid && onSubmit()">
                    <div class="row mt-3 mb-3">
                        <div class="col-6">
                            <label>First name</label>
                            <input class="form-control" type="text" name="firstname" formControlName="firstname"
                                [ngClass]="{'is-invalid': registrationForm.get('firstname')?.touched && registrationForm.get('firstname')?.invalid
                                            || register.submitted && registrationForm.get('firstname')?.invalid}"  
                            >
                            <p class="invalid-feedback" *ngIf="registrationForm.get('firstname')?.errors?.['required']">Please enter your first name.</p>
                            <p class="invalid-feedback" *ngIf="registrationForm.get('firstname')?.errors?.['minlength']">First name must be min 3 characters.</p>
                        </div>
                        <div class="col-6">
                            <label>Last name</label>
                            <input class="form-control" type="text" name="lastname" formControlName="lastname"
                                [ngClass]="{'is-invalid': registrationForm.get('lastname')?.touched && registrationForm.get('lastname')?.invalid
                                            || register.submitted && registrationForm.get('lastname')?.invalid}"
                            >
                            <p class="invalid-feedback" *ngIf="registrationForm.get('lastname')?.errors?.['required']">Please enter your last name</p>
                            <p class="invalid-feedback" *ngIf="registrationForm.get('lastname')?.errors?.['minlength']">Last name must be min 3 characters.</p>
                        </div>
                    </div>
                    <div class="mt-3 mb-3">
                        <label>Email</label>
                        <input class="form-control" type="email" name="email" formControlName="email"
                            [ngClass]="{'is-invalid': registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid
                                        || register.submitted && registrationForm.get('email')?.invalid}"
                        >
                        <p class="invalid-feedback" *ngIf="registrationForm.get('email')?.errors?.['required']">Please enter your email.</p>
                        <p class="invalid-feedback" *ngIf="registrationForm.get('email')?.errors?.['email']">Please enter a valid email.</p>
                    </div>
                
                    <div class="mt-3 mb-3">
                        <label>Password</label>
                        <input class="form-control" type="password" name="password" formControlName="password"
                            [ngClass]="{'is-invalid': registrationForm.get('password')?.touched && registrationForm.get('password')?.invalid
                                        || register.submitted && registrationForm.get('password')?.invalid}"
                        >
                        <p class="invalid-feedback" *ngIf="registrationForm.get('password')?.errors?.['required']">Please enter your password.</p>
                        <p class="invalid-feedback" *ngIf="registrationForm.get('password')?.errors?.['minlength'] 
                        || registrationForm.get('password')?.errors?.['maxlength']">Password must be between 8 - 16 characters.</p>
                        
                    </div>
                    <div class="mt-3 mb-3">
                        <label>Confirm Password</label>
                        <input class="form-control" type="password" name="confirmpassword" formControlName="confirmpassword"
                            [ngClass]="{'is-invalid': registrationForm.get('confirmpassword')?.touched && registrationForm.get('confirmpassword')?.invalid
                                        || register.submitted && registrationForm.get('confirmpassword')?.invalid}"
                        >
                        <p class="invalid-feedback" *ngIf="registrationForm.get('confirmpassword')?.errors?.['required']">Please enter your confirm password.</p>
                        <p class="invalid-feedback" *ngIf="registrationForm.get('confirmpassword')?.errors?.['notmatch']">Confirm password not matched.</p>
                    </div>
                    <div class="mt-3 mb-3 float-end">
                        <button class="btn btn-primary">Register</button>
                    </div>
                    <div class="mt-3 mb-3 float-start">
                        <a routerLink="/login" class="nav-link text-primary">Already Registered? Login</a>
                    </div>
                    
                </form>
                
            </div>
        </div>
    </div>
</div>
