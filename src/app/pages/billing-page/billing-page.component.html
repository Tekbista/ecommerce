
<div class="container mx-auto mb-5">
    <div class="row">
        <div class="col-sm-7">
            <div class="d-flex flex-row">
                <div class="p-2 me-1 flex-fill checkout-steps" [ngClass]="{'active-step': currentStep >= 1}">Billing</div>
                <div class="p-2 me-1 flex-fill checkout-steps" [ngClass]="{'active-step': currentStep >= 2}">Shipping</div>
                <div class="p-2 me-1 flex-fill checkout-steps" [ngClass]="{'active-step': currentStep >= 3}">Payment</div>
            </div>
            <!-- Loading a billing component-->
            <app-billing-component *ngIf="currentStep === 1"></app-billing-component>
            <!-- Loading a shipping component-->
            <app-shipping-component *ngIf="currentStep === 2"></app-shipping-component>
            <!-- Loading a payment component-->
            <app-payment-components *ngIf="currentStep === 3"></app-payment-components>
        </div>
        
        <!-- Order Summary -->
        <div class="col-sm-4 p-3 border-start pt-5 bg-light">
            <strong>{{totalItemsInCart}} item(s) in your cart</strong>
            <hr>
            <h5>Add Promo Code</h5>
            <div class="input-group mb-3">
                <input type="text" class="form-control form-control-lg" placeholder="Add Code" >
                <button class="btn btn-outline-primary" type="button" >Submit</button>
            </div>
            <small>Reward and offer codes should be entered on the checkout's payment page</small>
            <hr>
            <strong>Order Summary</strong>
            <table class="table table-borderless">
                <tbody>
                    <tr>
                        <td>Subtotal</td>
                        <td>{{cartTotal | currency}}</td>
                    </tr>
                    <tr>
                        <td>Estimated Shipping</td>
                        <td>Free</td>
                    </tr>
                </tbody>
            </table>
            <hr>
            <table class="table table-borderless">
                <tbody>
                    <tr>
                        <td>Subtotal Before Tax</td>
                        <td>{{cartTotal | currency}}</td>
                    </tr>
                    <tr *ngIf="tax > 0">
                        <td>Sales Tax</td>
                        <td>{{tax | currency}}</td>
                    </tr>
                </tbody>
            </table>
            <hr *ngIf="tax > 0">
            <table class="table table-borderless" *ngIf="tax > 0">
                <tbody>
                    <tr>
                        <td>Subtotal After Tax</td>
                        <td>{{cartTotal + tax| currency}}</td>
                    </tr>
                
                </tbody>
            </table>

            <button class="btn-checkout" (click)="onContinue()">{{btnTitle}}</button>

        </div>
    </div>
</div>


